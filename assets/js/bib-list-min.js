function array(){return Array.prototype.slice.call(arguments)}function array_key_exists(e,t){return!(!t||t.constructor!==Array&&t.constructor!==Object)&&e in t}function array_keys(e,t,a){var n=new Array,a=!!a,s=!0,i=0;for(key in e)s=!0,(s=null!=t&&(a&&e[key]!==t||e[key]!=t)?!1:s)&&(n[i]=key,i++);return n}function array_values(e){var t=[],a="";if(e&&"object"==typeof e&&e.change_key_case)return e.values();for(a in e)t[t.length]=e[a];return t}function in_array(e,t,a){var n,s=!1,a=!!a;for(n in t)if(a&&t[n]===e||!a&&t[n]==e){s=!0;break}return s}function sizeof(e,t){return count(e,t)}function count(e,t){var a,n=0;for(a in 1!=(t="COUNT_RECURSIVE"==t?1:t)&&(t=0),e)n++,1!=t||!e[a]||e[a].constructor!==Array&&e[a].constructor!==Object||(n+=count(e[a],1));return n}function explode(e,t,a){if(arguments.length<2||void 0===arguments[0]||void 0===t)return null;if(""===e||!1===e||null===e)return!1;if("function"==typeof e||"object"==typeof e||"function"==typeof t||"object"==typeof t)return{0:""};if(!0===e&&(e="1"),a){var n=t.toString().split(e.toString()),s=n.splice(0,a-1),n=n.join(e.toString());return s.push(n),s}return t.toString().split(e.toString())}function implode(e,t){return t instanceof Array?t.join(e):t}function join(e,t){return implode(e,t)}function split(e,t){return explode(e,t)}function str_replace(e,t,a){for(var n=e,s=a,i=is_array(r=t),t=is_array(s),n=[].concat(n),r=[].concat(r),o=(s=[].concat(s)).length;j=0,o--;)for(;s[o]=s[o].split(n[j]).join(i?r[j]||"":r[0]),++j in n;);return t?s:s[0]}function strlen(e){return(""+e).length}function strpos(e,t,a){a=e.indexOf(t,a);return 0<=a&&a}function strrpos(e,t,a){a=e.lastIndexOf(t,a);return 0<=a&&a}function strtolower(e){return e.toLowerCase()}function strtoupper(e){return e.toUpperCase()}function substr(e,t,a){return t<0&&(t+=e.length),null==a?a=e.length:a+=a<0?e.length:t,a<t&&(a=t),e.substring(t,a)}function trim(e,t){if(!e)return"";for(var a=t?t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \n\r\t\f\v            ​\u2028\u2029　",n=0;n<e.length;n++)if(-1===a.indexOf(e.charAt(n))){e=e.substring(n);break}for(n=e.length-1;0<=n;n--)if(-1===a.indexOf(e.charAt(n))){e=e.substring(0,n+1);break}return-1===a.indexOf(e.charAt(0))?e:""}function wordwrap(e,t,a,n){var s,i,r,o,l,u=t,f=a,c=n;if(u<1)return e;for(s=-1,r=(l=e.split("\n")).length;++s<r;l[s]+=o)for(o=l[s],l[s]="";o.length>u;l[s]+=o.slice(0,i)+((o=o.slice(i)).length?f:""))i=2==c||(i=o.slice(0,u+1).match(/\S*(\s)?$/))[1]?u:i.input.length-i[0].length||1==c&&u||i.input.length+(i=o.slice(u).match(/^\S*/)).input.length;return l.join("\n")}function is_string(e){return"string"==typeof e}function ord(e){return e.charCodeAt(0)}function array_unique(e){for(var t,a,n=e,s=n.length;s;)for(t=--s;0<t;)if(n[s]===n[--t]){for(a=t;--t&&n[s]===n[t];);s-=n.splice(t+1,a-t).length}return n}function print_r(e,t){function l(e,t,a,n){0<t&&t++;var s=u(a*t,n),i=u(a*(t+1),n),r="";if(e instanceof Array||e instanceof Object){for(var o in r+="Array\n"+s+"(\n",e)e[o]instanceof Array||e[o]instanceof Object?r+=i+"["+o+"] => "+l(e[o],t+1,a,n):r+=i+"["+o+"] => "+e[o]+"\n";r+=s+")\n"}else r=e.toString();return r}function u(e,t){for(var a="",n=0;n<e;n++)a+=t;return a}var a=l(e,0,4," ");return!0!==t?(document.write("<pre>"+a+"</pre>"),!0):a}function is_array(e){return e instanceof Array}function BibTex(e){for(option in void 0===e&&(e={}),this.data,this.content,this._delimiters,this.warnings,this._options,this.rtfstring,this.htmlstring,this.allowedEntryTypes,this.authorstring,this._delimiters={'"':'"',"{":"}"},this.data=[],this.content="",this.warnings=[],this._options={stripDelimiter:!0,validate:!0,unwrap:!1,wordWrapWidth:!1,wordWrapBreak:"\n",wordWrapCut:0,removeCurlyBraces:!1,extractAuthors:!0},e)test=this.setOption(option,e[option]),this.isError(test);this.rtfstring='AUTHORS, "{\b TITLE}", {i JOURNAL}, YEAR',this.htmlstring='AUTHORS, "<strong>TITLE</strong>", <em>JOURNAL</em>, YEAR<br />',this.allowedEntryTypes=array("article","book","booklet","confernce","inbook","incollection","inproceedings","manual","masterthesis","misc","phdthesis","proceedings","techreport","unpublished"),this.authorstring="VON LAST, JR, FIRST"}BibTex.prototype={setOption:function(e,t){return ret=!0,array_key_exists(e,this._options)?this._options[e]=t:ret=this.raiseError("Unknown option "+e),ret},parse:function(){this.warnings=[];for(var e=!0,t=0,a=!(this.data=[]),n="",s="",i="",r=0;r<strlen(this.content);r++){var o,n=substr(this.content,r,1);0!=t&&"@"==n&&(this._checkAt(i)||(this._generateWarning("WARNING_MISSING_END_BRACE","",i),n="}",r--)),0==t&&"@"==n?a=!0:a&&"{"==n&&"\\"!=s?t++:a&&"}"==n&&"\\"!=s&&(--t<0&&(e=!1),0==t&&(a=!1,(o=this._parseEntry(i))&&(this.data[this.data.length]=o),i="")),a&&(i+=n),s=n}if(1==t&&((o=this._parseEntry(i))?(this.data[this.data.length]=o,i="",t=0):e=!1),0!=t&&(e=!1),this._options.validate){cites=[];for(r=0;r<this.data.length;r++)cites[cites.length]=this.data[r].cite;if(unique=array_unique(cites),cites.length!=sizeof(unique)){notuniques=[];for(r=0;r<cites.length;r++)""==unique[r]&&(notuniques[notuniques.length]=cites[r]);this._generateWarning("WARNING_MULTIPLE_ENTRIES",implode(",",notuniques))}}return e?!(this.content=""):this.raiseError("Unbalanced parenthesis")},_parseEntry:function(e){var t="";this._options.validate&&(t=e);var a={};if("@string"==strtolower(substr(e,0,7)))this._options.validate&&this._generateWarning("STRING_ENTRY_NOT_YET_SUPPORTED","",e+"}");else if("@preamble"==strtolower(substr(e,0,9)))this._options.validate&&this._generateWarning("PREAMBLE_ENTRY_NOT_YET_SUPPORTED","",e+"}");else{for(;!1!==strrpos(e,"=");){for(position=strrpos(e,"="),proceed=!0,"\\"==substr(e,position-1,1)&&(proceed=!1),proceed=proceed&&this._checkEqualSign(e,position);!proceed;)substring=substr(e,0,position),position=strrpos(substring,"="),proceed=!0,"\\"==substr(e,position-1,1)&&(proceed=!1),proceed=proceed&&this._checkEqualSign(e,position);value=trim(substr(e,position+1)),e=substr(e,0,position),","==substr(value,strlen(value)-1,1)&&(value=substr(value,0,-1)),this._options.validate&&this._validateValue(value,t),this._options.stripDelimiter&&(value=this._stripDelimiter(value)),this._options.unwrap&&(value=this._unwrap(value)),this._options.removeCurlyBraces&&(value=this._removeCurlyBraces(value)),position=strrpos(e,","),field=strtolower(trim(substr(e,position+1))),a[field]=value,e=substr(e,0,position)}var n=e.split("{");a.cite=trim(n[1]),a.entryType=strtolower(trim(n[0])),"@"==a.entryType.substring(0,1)&&(a.entryType=substr(a.entryType,1)),this._options.validate&&(this._checkAllowedEntryType(a.entryType)||this._generateWarning("WARNING_NOT_ALLOWED_ENTRY_TYPE",a.entryType,e+"}")),in_array("author",array_keys(a))&&this._options.extractAuthors&&(a.author=this._extractAuthors(a.author)),in_array("editor",array_keys(a))&&this._options.extractAuthors&&(a.editor=this._extractAuthors(a.editor))}return a},_checkEqualSign:function(e,t){for(var a=!0,n=strlen(e),s=0,i=n-1;t<=i;i--)precedingchar=substr(e,i-1,1),charv=substr(e,i,1),"{"==charv&&"\\"!=precedingchar&&s++,"}"==charv&&"\\"!=precedingchar&&s--;if((a=0!=s?!1:a)&&(entrycopy=trim(e),lastchar=substr(entrycopy,strlen(entrycopy)-1,1),","==lastchar&&(lastchar=substr(entrycopy,strlen(entrycopy)-2,1)),'"'==lastchar)){a=!1,found=0;for(i=n;t<=i;i--)if(precedingchar=substr(e,i-1,1),charv=substr(e,i,1),'"'==charv&&"\\"!=precedingchar&&found++,2==found){a=!0;break}}return a},_checkAllowedEntryType:function(e){return in_array(e,this.allowedEntryTypes)},_checkAt:function(e){var t=!1,a=array_keys(this._delimiters),n=array_values(this._delimiters);if(!1!==strrpos(e,"=")){for(position=strrpos(e,"="),proceed=!0,"\\"==substr(e,position-1,1)&&(proceed=!1);!proceed;)substring=substr(e,0,position),position=strrpos(substring,"="),proceed=!0,"\\"==substr(e,position-1,1)&&(proceed=!1);value=trim(substr(e,position+1)),open=0,charv="",lastchar="";for(var s=0;s<strlen(value);s++)charv=substr(this.content,s,1),in_array(charv,a)&&"\\"!=lastchar?open++:in_array(charv,n)&&"\\"!=lastchar&&open--,lastchar=charv;0<open&&(t=!0)}return t},_stripDelimiter:function(e){for(var t=array_keys(this._delimiters),a=(strlen(e),substr(e,0,1)),n=substr(e,-1,1);in_array(a,t)&&n==this._delimiters[a];)e=substr(e,1,-1),a=substr(e,0,1),n=substr(e,-1,1);return e},_unwrap:function(e){return trim(e=e.replace(/\s+/," "))},_wordwrap:function(e){return e=""!=e&&is_string(e)?wordwrap(e,this._options.wordWrapWidth,this._options.wordWrapBreak,this._options.wordWrapCut):e},_extractAuthors:function(e){for(var t=(e=this._unwrap(e)).split(" and "),a=0;a<t.length;a++){var n=trim(t[a]),s="",i="",r="",o="";if(!1===strpos(n,",")){var l=(d=n.split(" |~")).length;if(1==l)r=d[0];else if(2==l)s=d[0],r=d[1];else{for(var u=!1,f=!1,c=0;c<l-1;c++)if(f)r+=" "+d[c];else if(u){if(p=this._determineCase(d[c]),!this.isError(p))if(0==p||-1==p){islast=!0;for(var h=c+1;h<l-1;h++)futurecase=this._determineCase(d[h]),this.isError(p)||0==futurecase&&(islast=!1);islast?(f=!0,-1==p?r+=" "+d[c]:i+=" "+d[c]):i+=" "+d[c]}else i+=" "+d[c]}else{var p=this._determineCase(d[c]);this.isError(p)||(0==p?(u=!0,i+=" "+d[c]):s+=" "+d[c])}r+=" "+d[l-1]}}else{var d=[];if(d=explode(",",n),vonlastarray=[],vonlastarray=explode(" ",d[0]),1==(l=sizeof(vonlastarray)))r=vonlastarray[0];else{for(f=!1,c=0;c<l-1;c++)if(f)r+=" "+vonlastarray[c];else if(0!=this._determineCase(vonlastarray[c])){islast=!0;for(h=c+1;h<l-1;h++)this._determineCase(vonlastarray[h]),p=this._determineCase(vonlastarray[h]),this.isError(p)||0==p&&(islast=!1);islast?(f=!0,r+=" "+vonlastarray[c]):i+=" "+vonlastarray[c]}else i+=" "+vonlastarray[c];r+=" "+vonlastarray[l-1]}3==d.length&&(o=d[1]),s=d[d.length-1]}t[a]={first:trim(s),von:trim(i),last:trim(r),jr:trim(o)}}return t},_determineCase:function(e){var t=-1,a=trim(e);if(is_string(e)&&0<strlen(a))for(var n=0,s=!1,i=0;!s&&n<=strlen(e);){var r=ord(substr(a,n,1));123==r&&i++,125==r&&i--,65<=r&&r<=90&&0==i?(t=1,s=!0):97<=r&&r<=122&&0==i?s=!(t=0):n++}else t=this.raiseError("Could not determine case on word: "+e);return t},isError:function(e){return"Object"==typeof e&&1==e.isError},_validateValue:function(e,t){e.match(/^{.*@.*}/)&&this._generateWarning("WARNING_AT_IN_BRACES",e,t),e.match(/^\".*\\".*\"/)&&this._generateWarning("WARNING_ESCAPED_DOUBLE_QUOTE_INSIDE_DOUBLE_QUOTES",e,t);for(var a,n=0,s="",i=0;i<strlen(e);i++)"{"==(a=substr(e,i,1))&&"\\"!=s&&n++,"}"==a&&"\\"!=s&&n--,s=a;0!=n&&this._generateWarning("WARNING_UNBALANCED_AMOUNT_OF_BRACES",e,t)},_removeCurlyBraces:function(e){for(var t=array_keys(this._delimiters),a=substr(e,0,1),n=substr(e,-1,1),s="",i="";in_array(a,t)&&n==this._delimiters[a];)s+=a,i+=n,e=substr(e,1,-1),a=substr(e,0,1),n=substr(e,-1,1);return e=s+(e=e.replace(/([^\\\\])\{(.*?[^\\\\])\}/,"12"))+i},_generateWarning:function(e,t,a){void 0===a&&(a="");var n={};n.warning=e,n.entry=t,n.wholeentry=a,this.warnings[this.warnings.length]=n},clearWarnings:function(){this.warnings=array()},hasWarning:function(){return 0<sizeof(this.warnings)},amount:function(){return sizeof(this.data)},_formatAuthor:function(e){return array_key_exists("von",e)?e.von=trim(e.von):e.von="",array_key_exists("last",e)?e.last=trim(e.last):e.last="",array_key_exists("jr",e)?e.jr=trim(e.jr):e.jr="",array_key_exists("first",e)?e.first=trim(e.first):e.first="",ret=this.authorstring,ret=str_replace("VON",e.von,ret),ret=str_replace("LAST",e.last,ret),ret=str_replace("JR",e.jr,ret),ret=str_replace("FIRST",e.first,ret),trim(ret)},bibTex:function(){for(var e="",t=0;t<this.data.length;t++){var a=this.data[t];for(key in e+="@"+strtolower(a.entryType)+" { "+a.cite+",\n",a){var n=a[key];0<this._options.wordWrapWidth&&(n=this._wordWrap(n)),in_array(key,array("cite","entryType","author"))||(e+="\t"+key+" = {"+n+"},\n")}if(array_key_exists("author",a))if(this._options.extractAuthors){for(j in tmparray=[],a.author){var s=a.author[j];tmparray[tmparray.length]=this._formatAuthor(s)}author=join(" and ",tmparray)}else author=a.author;else author="";e+="\tauthor = {"+author+"}\n",e+="}\n\n"}return e},addEntry:function(e){this.data[this.data.length]=e},getStatistic:function(){for(var e=array(),t=0;t<this.data.length;t++){var a=this.data[t];array_key_exists(a.entryType,e)?e[a.entryType]++:e[a.entryType]=1}return e},rtf:function(){for(var e="{\\rtf\n",t=0;t<this.data.length;t++){var a=this.data[t];if(line=this.rtfstring,title="",journal="",year="",authors="",array_key_exists("title",a)&&(title=this._unwrap(a.title)),array_key_exists("journal",a)&&(journal=this._unwrap(a.journal)),array_key_exists("year",a)&&(year=this._unwrap(a.year)),array_key_exists("author",a))if(this._options.extractAuthors){for(var n in tmparray=[],a.author){n=a.author[n];tmparray[tmparray.length]=this._formatAuthor(n)}authors=join(", ",tmparray)}else authors=a.author;""!=title||""!=journal||""!=year||""!=authors?(line=str_replace("TITLE",title,line),line=str_replace("JOURNAL",journal,line),line=str_replace("YEAR",year,line),line=str_replace("AUTHORS",authors,line),line+="\n\\par\n",e+=line):this._generateWarning("WARNING_LINE_WAS_NOT_CONVERTED","",print_r(a,1))}return e+="}"},html:function(e,t){void 0===t&&(t=this.data.length);for(var a="<p>\n",n=e=void 0===e?0:e;n<t;n++){var s=this.data[n],i=this.htmlstring,r="",o="",l="",u="";if(array_key_exists("title",s)&&(r=this._unwrap(s.title)),array_key_exists("journal",s)&&(o=this._unwrap(s.journal)),array_key_exists("year",s)&&(l=this._unwrap(s.year)),array_key_exists("author",s))if(this._options.extractAuthors){for(j in tmparray=[],s.author){var f=s.author[j];tmparray[tmparray.length]=this._formatAuthor(f)}u=join(", ",tmparray)}else u=s.author;""!=r||""!=o||""!=l||""!=u?(i=str_replace("TITLE",r,i),i=str_replace("JOURNAL",o,i),i=str_replace("YEAR",l,i),i=str_replace("AUTHORS",u,i),a+=i+="\n"):this._generateWarning("WARNING_LINE_WAS_NOT_CONVERTED","",print_r(s,1))}return a+="</p>\n"}},function($){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.6.2",_oExt.iApiIndex=0,_oExt.oApi={},_oExt.afnFiltering=[],_oExt.aoFeatures=[],_oExt.ofnSearch={},_oExt.afnSortData=[],_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:""},_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-state-default",sPageButtonActive:"fg-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset fg-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s"},_oExt.oPagination={two_button:{fnInit:function(e,t,a){var n,s,i;e.bJUI?(n=document.createElement("a"),s=document.createElement("a"),(i=document.createElement("span")).className=e.oClasses.sPageJUINext,s.appendChild(i),(i=document.createElement("span")).className=e.oClasses.sPageJUIPrev,n.appendChild(i)):(n=document.createElement("div"),s=document.createElement("div")),n.className=e.oClasses.sPagePrevDisabled,s.className=e.oClasses.sPageNextDisabled,n.title=e.oLanguage.oPaginate.sPrevious,s.title=e.oLanguage.oPaginate.sNext,t.appendChild(n),t.appendChild(s),$(n).click(function(){e.oApi._fnPageChange(e,"previous")&&a(e)}),$(s).click(function(){e.oApi._fnPageChange(e,"next")&&a(e)}),$(n).bind("selectstart",function(){return!1}),$(s).bind("selectstart",function(){return!1}),""!==e.sTableId&&void 0===e.aanFeatures.p&&(t.setAttribute("id",e.sTableId+"_paginate"),n.setAttribute("id",e.sTableId+"_previous"),s.setAttribute("id",e.sTableId+"_next"))},fnUpdate:function(e,t){if(e.aanFeatures.p)for(var a=e.aanFeatures.p,n=0,s=a.length;n<s;n++)0!==a[n].childNodes.length&&(a[n].childNodes[0].className=0===e._iDisplayStart?e.oClasses.sPagePrevDisabled:e.oClasses.sPagePrevEnabled,a[n].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?e.oClasses.sPageNextDisabled:e.oClasses.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,a){var n=document.createElement("span"),s=document.createElement("span"),i=document.createElement("span"),r=document.createElement("span"),o=document.createElement("span");n.innerHTML=e.oLanguage.oPaginate.sFirst,s.innerHTML=e.oLanguage.oPaginate.sPrevious,r.innerHTML=e.oLanguage.oPaginate.sNext,o.innerHTML=e.oLanguage.oPaginate.sLast;var l=e.oClasses;n.className=l.sPageButton+" "+l.sPageFirst,s.className=l.sPageButton+" "+l.sPagePrevious,r.className=l.sPageButton+" "+l.sPageNext,o.className=l.sPageButton+" "+l.sPageLast,t.appendChild(n),t.appendChild(s),t.appendChild(i),t.appendChild(r),t.appendChild(o),$(n).click(function(){e.oApi._fnPageChange(e,"first")&&a(e)}),$(s).click(function(){e.oApi._fnPageChange(e,"previous")&&a(e)}),$(r).click(function(){e.oApi._fnPageChange(e,"next")&&a(e)}),$(o).click(function(){e.oApi._fnPageChange(e,"last")&&a(e)}),$("span",t).bind("mousedown",function(){return!1}).bind("selectstart",function(){return!1}),""!==e.sTableId&&void 0===e.aanFeatures.p&&(t.setAttribute("id",e.sTableId+"_paginate"),n.setAttribute("id",e.sTableId+"_first"),s.setAttribute("id",e.sTableId+"_previous"),r.setAttribute("id",e.sTableId+"_next"),o.setAttribute("id",e.sTableId+"_last"))},fnUpdate:function(t,a){if(t.aanFeatures.p){for(var e,n,s=_oExt.oPagination.iFullNumbersShowPages,i=Math.floor(s/2),r=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),o=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,l="",u=t.oClasses,f=r<s?(e=1,r):o<=i?(e=1,s):r-i<=o?(e=r-s+1,r):(e=o-Math.ceil(s/2)+1)+s-1,c=e;c<=f;c++)l+=o!=c?'<span class="'+u.sPageButton+'">'+c+"</span>":'<span class="'+u.sPageButtonActive+'">'+c+"</span>";function h(){var e=+this.innerHTML-1;return t._iDisplayStart=e*t._iDisplayLength,a(t),!1}function p(){return!1}var d,g=t.aanFeatures.p;for(c=0,n=g.length;c<n;c++)0!==g[c].childNodes.length&&((d=g[c].childNodes[2]).innerHTML=l,$("span",d).click(h).bind("mousedown",p).bind("selectstart",p),d=[(d=g[c].getElementsByTagName("span"))[0],d[1],d[d.length-2],d[d.length-1]],$(d).removeClass(u.sPageButton+" "+u.sPageButtonActive+" "+u.sPageButtonStaticDisabled),1==o?(d[0].className+=" "+u.sPageButtonStaticDisabled,d[1].className+=" "+u.sPageButtonStaticDisabled):(d[0].className+=" "+u.sPageButton,d[1].className+=" "+u.sPageButton),0===r||o==r||-1==t._iDisplayLength?(d[2].className+=" "+u.sPageButtonStaticDisabled,d[3].className+=" "+u.sPageButtonStaticDisabled):(d[2].className+=" "+u.sPageButton,d[3].className+=" "+u.sPageButton))}}}},_oExt.oSort={"string-asc":function(e,t){e=e.toLowerCase(),t=t.toLowerCase();return e<t?-1:t<e?1:0},"string-desc":function(e,t){e=e.toLowerCase(),t=t.toLowerCase();return e<t?1:t<e?-1:0},"html-asc":function(e,t){e=e.replace(/<.*?>/g,"").toLowerCase(),t=t.replace(/<.*?>/g,"").toLowerCase();return e<t?-1:t<e?1:0},"html-desc":function(e,t){e=e.replace(/<.*?>/g,"").toLowerCase(),t=t.replace(/<.*?>/g,"").toLowerCase();return e<t?1:t<e?-1:0},"date-asc":function(e,t){e=Date.parse(e),t=Date.parse(t);return(e=isNaN(e)?Date.parse("01/01/1970 00:00:00"):e)-(t=isNaN(t)?Date.parse("01/01/1970 00:00:00"):t)},"date-desc":function(e,t){e=Date.parse(e),t=Date.parse(t);return isNaN(e)&&(e=Date.parse("01/01/1970 00:00:00")),(t=isNaN(t)?Date.parse("01/01/1970 00:00:00"):t)-e},"numeric-asc":function(e,t){return("-"==e?0:e)-("-"==t?0:t)},"numeric-desc":function(e,t){return("-"==t?0:t)-("-"==e?0:e)}},_oExt.aTypes=[function(e){if("number"==typeof e)return"numeric";if("function"!=typeof e.charAt)return null;var t=!1,a=e.charAt(0);if(-1=="0123456789-".indexOf(a))return null;for(var n=1;n<e.length;n++){if(a=e.charAt(n),-1=="0123456789.".indexOf(a))return null;if("."==a){if(t)return null;t=!0}}return"numeric"},function(e){e=Date.parse(e);return null===e||isNaN(e)?null:"date"}],_oExt._oExternConfig={iNextUnique:0},$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?this._iRecordsTotal:this.aiDisplayMaster.length},this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?this._iRecordsDisplay:this.aiDisplay.length},this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this._iDisplayStart+this.aiDisplay.length:this._iDisplayEnd},this.sInstance=null,this.oFeatures={bPaginate:!0,bLengthChange:!0,bFilter:!0,bSort:!0,bInfo:!0,bAutoWidth:!0,bProcessing:!1,bSortClasses:!0,bStateSave:!1,bServerSide:!1},this.aanFeatures=[],this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"}},this.aoData=[],this.aiDisplay=[],this.aiDisplayMaster=[],this.aoColumns=[],this.iNextId=0,this.asDataSearch=[],this.oPreviousSearch={sSearch:"",bEscapeRegex:!0},this.aoPreSearchCols=[],this.aaSorting=[[0,"asc",0]],this.aaSortingFixed=null,this.asStripClasses=[],this.fnRowCallback=null,this.fnHeaderCallback=null,this.fnFooterCallback=null,this.aoDrawCallback=[],this.fnInitComplete=null,this.sTableId="",this.nTable=null,this.iDefaultSortIndex=0,this.bInitialised=!1,this.aoOpenRows=[],this.sDom="lfrtip",this.sPaginationType="two_button",this.iCookieDuration=7200,this.sAjaxSource=null,this.bAjaxDataGet=!0,this.fnServerData=$.getJSON,this.iServerDraw=0,this._iDisplayLength=10,this._iDisplayStart=0,this._iDisplayEnd=10,this._iRecordsTotal=0,this._iRecordsDisplay=0,this.bJUI=!1,this.oClasses=_oExt.oStdClasses,this.bFiltered=!1,this.bSorted=!1}function _fnExternApiFunc(t){return function(){var e=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[t].apply(this,e)}}for(var sFunc in this.oApi={},this.fnDraw=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);void 0!==e&&!1===e?(_fnCalculateEnd(t),_fnDraw(t)):_fnReDraw(t)},this.fnFilter=function(e,t,a){var n=_fnSettingsFromNode(this[_oExt.iApiIndex]);void 0===a&&(a=!0),null==t?_fnFilterComplete(n,{sSearch:e,bEscapeRegex:a},1):(n.aoPreSearchCols[t].sSearch=e,n.aoPreSearchCols[t].bEscapeRegex=a,_fnFilterComplete(n,n.oPreviousSearch,1))},this.fnSettings=function(e){return _fnSettingsFromNode(this[_oExt.iApiIndex])},this.fnVersionCheck=function(e){function t(e,t){for(;e.length<t;)e+="0";return e}for(var a=_oExt.sVersion.split("."),n=e.split("."),s="",i="",r=0,o=n.length;r<o;r++)s+=t(a[r],3),i+=t(n[r],3);return parseInt(s,10)>=parseInt(i,10)},this.fnSort=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);t.aaSorting=e,_fnSort(t)},this.fnSortListener=function(e,t,a){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),e,t,a)},this.fnAddData=function(e,t){if(0===e.length)return[];var a,n=[],s=_fnSettingsFromNode(this[_oExt.iApiIndex]);if("object"==typeof e[0])for(var i=0;i<e.length;i++){if(-1==(a=_fnAddData(s,e[i])))return n;n.push(a)}else{if(-1==(a=_fnAddData(s,e)))return n;n.push(a)}return s.aiDisplay=s.aiDisplayMaster.slice(),_fnBuildSearchArray(s,1),void 0!==t&&!t||_fnReDraw(s),n},this.fnDeleteRow=function(e,t,a){for(var n=_fnSettingsFromNode(this[_oExt.iApiIndex]),s="object"==typeof e?_fnNodeToDataIndex(n,e):e,i=0;i<n.aiDisplayMaster.length;i++)if(n.aiDisplayMaster[i]==s){n.aiDisplayMaster.splice(i,1);break}for(i=0;i<n.aiDisplay.length;i++)if(n.aiDisplay[i]==s){n.aiDisplay.splice(i,1);break}_fnBuildSearchArray(n,1),"function"==typeof t&&t.call(this),n._iDisplayStart>=n.aiDisplay.length&&(n._iDisplayStart-=n._iDisplayLength,n._iDisplayStart<0&&(n._iDisplayStart=0)),_fnCalculateEnd(n),_fnDraw(n);t=n.aoData[s]._aData.slice();return void 0!==a&&!0===a&&(n.aoData[s]=null),t},this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(t),void 0!==e&&!e||_fnDraw(t)},this.fnOpen=function(e,t,a){var n=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(e);var s=document.createElement("tr"),i=document.createElement("td");s.appendChild(i),i.className=a,i.colSpan=_fnVisbleColumns(n),i.innerHTML=t;t=$("tbody tr",n.nTable);return-1!=$.inArray(e,t)&&$(s).insertAfter(e),n.oFeatures.bServerSide||n.aoOpenRows.push({nTr:s,nParent:e}),s},this.fnClose=function(e){for(var t=_fnSettingsFromNode(this[_oExt.iApiIndex]),a=0;a<t.aoOpenRows.length;a++)if(t.aoOpenRows[a].nParent==e){var n=t.aoOpenRows[a].nTr.parentNode;return n&&n.removeChild(t.aoOpenRows[a].nTr),t.aoOpenRows.splice(a,1),0}return 1},this.fnGetData=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(void 0===e)return _fnGetDataMaster(t);e="object"==typeof e?_fnNodeToDataIndex(t,e):e;return t.aoData[e]._aData},this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);return void 0!==e?t.aoData[e].nTr:_fnGetTrNodes(t)},this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);if("TR"==e.nodeName)return _fnNodeToDataIndex(t,e);if("TD"==e.nodeName)for(var a=_fnNodeToDataIndex(t,e.parentNode),n=0,s=0;s<t.aoColumns.length;s++)if(t.aoColumns[s].bVisible){if(t.aoData[a].nTr.getElementsByTagName("td")[s-n]==e)return[a,s-n,s]}else n++;return null},this.fnUpdate=function(e,t,a,n){var s,i,r=_fnSettingsFromNode(this[_oExt.iApiIndex]),o="object"==typeof t?_fnNodeToDataIndex(r,t):t;if("object"!=typeof e)r.aoData[o]._aData[a]=i=e,null!==r.aoColumns[a].fnRender&&(i=r.aoColumns[a].fnRender({iDataRow:o,iDataColumn:a,aData:r.aoData[o]._aData,oSettings:r}),r.aoColumns[a].bUseRendered&&(r.aoData[o]._aData[a]=i)),null!==(s=_fnColumnIndexToVisible(r,a))&&(r.aoData[o].nTr.getElementsByTagName("td")[s].innerHTML=i);else{if(e.length!=r.aoColumns.length)return alert("DataTables warning: An array passed to fnUpdate must have the same number of columns as the table in question - in this case "+r.aoColumns.length),1;for(var l=0;l<e.length;l++)i=e[l],r.aoData[o]._aData[l]=i,null!==r.aoColumns[l].fnRender&&(i=r.aoColumns[l].fnRender({iDataRow:o,iDataColumn:l,aData:r.aoData[o]._aData,oSettings:r}),r.aoColumns[l].bUseRendered&&(r.aoData[o]._aData[l]=i)),null!==(s=_fnColumnIndexToVisible(r,l))&&(r.aoData[o].nTr.getElementsByTagName("td")[s].innerHTML=i)}return _fnBuildSearchArray(r,1),void 0!==n&&n&&_fnReDraw(r),0},this.fnSetColumnVis=function(e,t){var a,n,s,i=_fnSettingsFromNode(this[_oExt.iApiIndex]),r=i.aoColumns.length;if(i.aoColumns[e].bVisible!=t){var o=$("thead:eq(0)>tr",i.nTable)[0],l=$("tfoot:eq(0)>tr",i.nTable)[0],u=[],f=[];for(p=0;p<r;p++)u.push(i.aoColumns[p].nTh),f.push(i.aoColumns[p].nTf);if(t){var c=0;for(p=0;p<e;p++)i.aoColumns[p].bVisible&&c++;if(c>=_fnVisbleColumns(i))for(o.appendChild(u[e]),l&&l.appendChild(f[e]),p=0,a=i.aoData.length;p<a;p++)n=i.aoData[p]._anHidden[e],i.aoData[p].nTr.appendChild(n);else{for(var h,p=e;p<r&&null===(h=_fnColumnIndexToVisible(i,p));p++);for(o.insertBefore(u[e],o.getElementsByTagName("th")[h]),l&&l.insertBefore(f[e],l.getElementsByTagName("th")[h]),s=_fnGetTdNodes(i),p=0,a=i.aoData.length;p<a;p++)n=i.aoData[p]._anHidden[e],i.aoData[p].nTr.insertBefore(n,$(">td:eq("+h+")",i.aoData[p].nTr)[0])}i.aoColumns[e].bVisible=!0}else{for(o.removeChild(u[e]),l&&l.removeChild(f[e]),s=_fnGetTdNodes(i),p=0,a=i.aoData.length;p<a;p++)n=s[p*i.aoColumns.length+e],(i.aoData[p]._anHidden[e]=n).parentNode.removeChild(n);i.aoColumns[e].bVisible=!1}for(p=0,a=i.aoOpenRows.length;p<a;p++)i.aoOpenRows[p].nTr.colSpan=_fnVisbleColumns(i);_fnSaveState(i)}},this.fnPageChange=function(e,t){var a=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(a,e),_fnCalculateEnd(a),void 0!==t&&!t||_fnDraw(a)},_oExt.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));function _fnInitalise(a){if(!1!==a.bInitialised){if(_fnAddOptionsHtml(a),_fnDrawHead(a),a.oFeatures.bSort?(_fnSort(a,!1),_fnSortingClasses(a)):(a.aiDisplay=a.aiDisplayMaster.slice(),_fnCalculateEnd(a),_fnDraw(a)),null!==a.sAjaxSource&&!a.oFeatures.bServerSide)return _fnProcessingDisplay(a,!0),void a.fnServerData(a.sAjaxSource,null,function(e){for(var t=0;t<e.aaData.length;t++)_fnAddData(a,e.aaData[t]);a.iInitDisplayStart=a._iDisplayStart,a.oFeatures.bSort?_fnSort(a):(a.aiDisplay=a.aiDisplayMaster.slice(),_fnCalculateEnd(a),_fnDraw(a)),_fnProcessingDisplay(a,!1),"function"==typeof a.fnInitComplete&&a.fnInitComplete(a,e)});"function"==typeof a.fnInitComplete&&a.fnInitComplete(a),a.oFeatures.bServerSide||_fnProcessingDisplay(a,!1)}else setTimeout(function(){_fnInitalise(a)},200)}function _fnLanguageProcess(e,t,a){_fnMap(e.oLanguage,t,"sProcessing"),_fnMap(e.oLanguage,t,"sLengthMenu"),_fnMap(e.oLanguage,t,"sZeroRecords"),_fnMap(e.oLanguage,t,"sInfo"),_fnMap(e.oLanguage,t,"sInfoEmpty"),_fnMap(e.oLanguage,t,"sInfoFiltered"),_fnMap(e.oLanguage,t,"sInfoPostFix"),_fnMap(e.oLanguage,t,"sSearch"),void 0!==t.oPaginate&&(_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sFirst"),_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sPrevious"),_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sNext"),_fnMap(e.oLanguage.oPaginate,t.oPaginate,"sLast")),a&&_fnInitalise(e)}function _fnAddColumn(e,t,a){e.aoColumns[e.aoColumns.length++]={sType:null,_bAutoType:!0,bVisible:!0,bSearchable:!0,bSortable:!0,asSorting:["asc","desc"],sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,sTitle:a?a.innerHTML:"",sName:"",sWidth:null,sClass:null,fnRender:null,bUseRendered:!0,iDataSort:e.aoColumns.length-1,sSortDataType:"std",nTh:a||document.createElement("th"),nTf:null};var n=e.aoColumns.length-1,a=e.aoColumns[n];null!=t&&(void 0!==t.sType&&(a.sType=t.sType,a._bAutoType=!1),_fnMap(a,t,"bVisible"),_fnMap(a,t,"bSearchable"),_fnMap(a,t,"bSortable"),_fnMap(a,t,"sTitle"),_fnMap(a,t,"sName"),_fnMap(a,t,"sWidth"),_fnMap(a,t,"sClass"),_fnMap(a,t,"fnRender"),_fnMap(a,t,"bUseRendered"),_fnMap(a,t,"iDataSort"),_fnMap(a,t,"asSorting"),_fnMap(a,t,"sSortDataType")),e.oFeatures.bSort||(a.bSortable=!1),!a.bSortable||-1==$.inArray("asc",a.asSorting)&&-1==$.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableNone,a.sSortingClassJUI=""):-1!=$.inArray("asc",a.asSorting)&&-1==$.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableAsc,a.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",a.asSorting)&&-1!=$.inArray("desc",a.asSorting)&&(a.sSortingClass=e.oClasses.sSortableDesc,a.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed),void 0===e.aoPreSearchCols[n]||null===e.aoPreSearchCols[n]?e.aoPreSearchCols[n]={sSearch:"",bEscapeRegex:!0}:void 0===e.aoPreSearchCols[n].bEscapeRegex&&(e.aoPreSearchCols[n].bEscapeRegex=!0)}function _fnAddData(e,t){if(t.length!=e.aoColumns.length)return alert("DataTables warning: Added data does not match known number of columns"),-1;var a=e.aoData.length;e.aoData.push({nTr:document.createElement("tr"),_iId:e.iNextId++,_aData:t.slice(),_anHidden:[],_sRowStripe:""});for(var n=0;n<t.length;n++){var s,i=document.createElement("td");"function"==typeof e.aoColumns[n].fnRender?(s=e.aoColumns[n].fnRender({iDataRow:a,iDataColumn:n,aData:t,oSettings:e}),i.innerHTML=s,e.aoColumns[n].bUseRendered&&(e.aoData[a]._aData[n]=s)):i.innerHTML=t[n],null!==e.aoColumns[n].sClass&&(i.className=e.aoColumns[n].sClass),e.aoColumns[n]._bAutoType&&"string"!=e.aoColumns[n].sType&&(s=_fnDetectType(e.aoData[a]._aData[n]),null===e.aoColumns[n].sType?e.aoColumns[n].sType=s:e.aoColumns[n].sType!=s&&(e.aoColumns[n].sType="string")),e.aoColumns[n].bVisible?e.aoData[a].nTr.appendChild(i):e.aoData[a]._anHidden[n]=i}return e.aiDisplayMaster.push(a),a}function _fnGatherData(e){var t,a,n,s,i,r,o,l,u,f,c,h,p,d;if(null===e.sAjaxSource)for(t=0,a=(o=e.nTable.getElementsByTagName("tbody")[0].childNodes).length;t<a;t++)if("TR"==o[t].nodeName)for(f=e.aoData.length,e.aoData.push({nTr:o[t],_iId:e.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""}),e.aiDisplayMaster.push(f),u=e.aoData[f]._aData,n=i=0,s=(r=o[t].childNodes).length;n<s;n++)"TD"==r[n].nodeName&&(u[i]=r[n].innerHTML,i++);for(r=[],t=0,a=(o=_fnGetTrNodes(e)).length;t<a;t++)for(n=0,s=o[t].childNodes.length;n<s;n++)"TD"==(l=o[t].childNodes[n]).nodeName&&r.push(l);for(r.length!=o.length*e.aoColumns.length&&alert("DataTables warning: Unexpected number of TD elements. Expected "+o.length*e.aoColumns.length+" and got "+r.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination."),p=0,d=e.aoColumns.length;p<d;p++){null===e.aoColumns[p].sTitle&&(e.aoColumns[p].sTitle=e.aoColumns[p].nTh.innerHTML);var g,_,m=e.aoColumns[p]._bAutoType,b="function"==typeof e.aoColumns[p].fnRender,S=null!==e.aoColumns[p].sClass,y=e.aoColumns[p].bVisible;if(m||b||S||!y)for(c=0,h=e.aoData.length;c<h;c++)g=r[c*d+p],m&&"string"!=e.aoColumns[p].sType&&(_=_fnDetectType(e.aoData[c]._aData[p]),null===e.aoColumns[p].sType?e.aoColumns[p].sType=_:e.aoColumns[p].sType!=_&&(e.aoColumns[p].sType="string")),b&&(_=e.aoColumns[p].fnRender({iDataRow:c,iDataColumn:p,aData:e.aoData[c]._aData,oSettings:e}),g.innerHTML=_,e.aoColumns[p].bUseRendered&&(e.aoData[c]._aData[p]=_)),S&&(g.className+=" "+e.aoColumns[p].sClass),y||(e.aoData[c]._anHidden[p]=g).parentNode.removeChild(g)}}function _fnDrawHead(e){var t,a=0;if(0!==e.nTable.getElementsByTagName("thead")[0].getElementsByTagName("th").length)for(s=0,i=e.aoColumns.length;s<i;s++)t=e.aoColumns[s].nTh,e.aoColumns[s].bVisible?(null!==e.aoColumns[s].sWidth&&(t.style.width=e.aoColumns[s].sWidth),e.aoColumns[s].sTitle!=t.innerHTML&&(t.innerHTML=e.aoColumns[s].sTitle)):(t.parentNode.removeChild(t),a++);else{for(var n=document.createElement("tr"),s=0,i=e.aoColumns.length;s<i;s++)(t=e.aoColumns[s].nTh).innerHTML=e.aoColumns[s].sTitle,e.aoColumns[s].bVisible&&(null!==e.aoColumns[s].sClass&&(t.className=e.aoColumns[s].sClass),null!==e.aoColumns[s].sWidth&&(t.style.width=e.aoColumns[s].sWidth),n.appendChild(t));$("thead:eq(0)",e.nTable).html("")[0].appendChild(n)}if(e.bJUI)for(s=0,i=e.aoColumns.length;s<i;s++)e.aoColumns[s].nTh.insertBefore(document.createElement("span"),e.aoColumns[s].nTh.firstChild);if(e.oFeatures.bSort){for(s=0;s<e.aoColumns.length;s++)!1!==e.aoColumns[s].bSortable?_fnSortAttachListener(e,e.aoColumns[s].nTh,s):$(e.aoColumns[s].nTh).addClass(e.oClasses.sSortableNone);$("thead:eq(0) th",e.nTable).mousedown(function(e){if(e.shiftKey)return!(this.onselectstart=function(){return!1})})}var r=e.nTable.getElementsByTagName("tfoot");if(0!==r.length){var a=0,o=r[0].getElementsByTagName("th");for(s=0,i=o.length;s<i;s++)e.aoColumns[s].nTf=o[s-a],e.aoColumns[s].bVisible||(o[s-a].parentNode.removeChild(o[s-a]),a++)}}function _fnDraw(e){var t,a=[],n=0,s=!1,i=e.asStripClasses.length,r=e.aoOpenRows.length;if(!e.oFeatures.bServerSide||_fnAjaxUpdate(e)){if(void 0!==e.iInitDisplayStart&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,_fnCalculateEnd(e)),0!==e.aiDisplay.length){var o=e._iDisplayStart,l=e._iDisplayEnd;e.oFeatures.bServerSide&&(o=0,l=e.aoData.length);for(var u=o;u<l;u++){var f,c=e.aoData[e.aiDisplay[u]],h=c.nTr;if(0!==i&&(f=e.asStripClasses[n%i],c._sRowStripe!=f&&($(h).removeClass(c._sRowStripe).addClass(f),c._sRowStripe=f)),"function"==typeof e.fnRowCallback&&((h=e.fnRowCallback(h,e.aoData[e.aiDisplay[u]]._aData,n,u))||s||(alert("DataTables warning: A node was not returned by fnRowCallback"),s=!0)),a.push(h),n++,0!==r)for(var p=0;p<r;p++)h==e.aoOpenRows[p].nParent&&a.push(e.aoOpenRows[p].nTr)}}else{a[0]=document.createElement("tr"),void 0!==e.asStripClasses[0]&&(a[0].className=e.asStripClasses[0]);o=document.createElement("td");o.setAttribute("valign","top"),o.colSpan=e.aoColumns.length,o.className=e.oClasses.sRowEmpty,o.innerHTML=e.oLanguage.sZeroRecords,a[n].appendChild(o)}"function"==typeof e.fnHeaderCallback&&e.fnHeaderCallback($("thead:eq(0)>tr",e.nTable)[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay),"function"==typeof e.fnFooterCallback&&e.fnFooterCallback($("tfoot:eq(0)>tr",e.nTable)[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay);var d=e.nTable.getElementsByTagName("tbody");if(d[0]){for(var g=d[0].childNodes,_=g.length-1;0<=_;_--)g[_].parentNode.removeChild(g[_]);for(_=0,t=a.length;_<t;_++)d[0].appendChild(a[_])}for(_=0,t=e.aoDrawCallback.length;_<t;_++)e.aoDrawCallback[_].fn(e);e.bSorted=!1,e.bFiltered=!1,void 0===e._bInitComplete&&(e._bInitComplete=!0,e.oFeatures.bAutoWidth&&0!==e.nTable.offsetWidth&&(e.nTable.style.width=e.nTable.offsetWidth+"px"))}}function _fnReDraw(e){e.oFeatures.bSort?_fnSort(e,e.oPreviousSearch):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(_fnCalculateEnd(e),_fnDraw(e))}function _fnAjaxUpdate(t){if(t.bAjaxDataGet){_fnProcessingDisplay(t,!0);var e,a=t.aoColumns.length,n=[];if(t.iServerDraw++,n.push({name:"sEcho",value:t.iServerDraw}),n.push({name:"iColumns",value:a}),n.push({name:"sColumns",value:_fnColumnOrdering(t)}),n.push({name:"iDisplayStart",value:t._iDisplayStart}),n.push({name:"iDisplayLength",value:!1!==t.oFeatures.bPaginate?t._iDisplayLength:-1}),!1!==t.oFeatures.bFilter)for(n.push({name:"sSearch",value:t.oPreviousSearch.sSearch}),n.push({name:"bEscapeRegex",value:t.oPreviousSearch.bEscapeRegex}),e=0;e<a;e++)n.push({name:"sSearch_"+e,value:t.aoPreSearchCols[e].sSearch}),n.push({name:"bEscapeRegex_"+e,value:t.aoPreSearchCols[e].bEscapeRegex}),n.push({name:"bSearchable_"+e,value:t.aoColumns[e].bSearchable});if(!1!==t.oFeatures.bSort){var s=null!==t.aaSortingFixed?t.aaSortingFixed.length:0,i=t.aaSorting.length;for(n.push({name:"iSortingCols",value:s+i}),e=0;e<s;e++)n.push({name:"iSortCol_"+e,value:t.aaSortingFixed[e][0]}),n.push({name:"sSortDir_"+e,value:t.aaSortingFixed[e][1]});for(e=0;e<i;e++)n.push({name:"iSortCol_"+(e+s),value:t.aaSorting[e][0]}),n.push({name:"sSortDir_"+(e+s),value:t.aaSorting[e][1]});for(e=0;e<a;e++)n.push({name:"bSortable_"+e,value:t.aoColumns[e].bSortable})}return t.fnServerData(t.sAjaxSource,n,function(e){_fnAjaxUpdateDraw(t,e)}),!1}return!0}function _fnAjaxUpdateDraw(e,t){if(void 0!==t.sEcho){if(+t.sEcho<e.iServerDraw)return;e.iServerDraw=+t.sEcho}_fnClearTable(e),e._iRecordsTotal=t.iTotalRecords,e._iRecordsDisplay=t.iTotalDisplayRecords;var a,n=_fnColumnOrdering(e),s=void 0!==t.sColumns&&""!==n&&t.sColumns!=n;s&&(a=_fnReOrderIndex(e,t.sColumns));for(var i=0,r=t.aaData.length;i<r;i++)if(s){for(var o=[],l=0,u=e.aoColumns.length;l<u;l++)o.push(t.aaData[i][a[l]]);_fnAddData(e,o)}else _fnAddData(e,t.aaData[i]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,_fnDraw(e),e.bAjaxDataGet=!0,_fnProcessingDisplay(e,!1)}function _fnAddOptionsHtml(e){var t=document.createElement("div");e.nTable.parentNode.insertBefore(t,e.nTable);var a=document.createElement("div");a.className=e.oClasses.sWrapper,""!==e.sTableId&&a.setAttribute("id",e.sTableId+"_wrapper");for(var n,s,i,r,o,l,u,f=a,c=e.sDom.replace("H","fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix").replace("F","fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix").split(""),h=0;h<c.length;h++){if(s=0,"<"==(i=c[h])){if(r=document.createElement("div"),"'"==(o=c[h+1])||'"'==o){for(l="",u=2;c[h+u]!=o;)l+=c[h+u],u++;r.className=l,h+=u}f.appendChild(r),f=r}else if(">"==i)f=f.parentNode;else if("l"==i&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)n=_fnFeatureHtmlLength(e),s=1;else if("f"==i&&e.oFeatures.bFilter)n=_fnFeatureHtmlFilter(e),s=1;else if("r"==i&&e.oFeatures.bProcessing)n=_fnFeatureHtmlProcessing(e),s=1;else if("t"==i)n=e.nTable,s=1;else if("i"==i&&e.oFeatures.bInfo)n=_fnFeatureHtmlInfo(e),s=1;else if("p"==i&&e.oFeatures.bPaginate)n=_fnFeatureHtmlPaginate(e),s=1;else if(0!==_oExt.aoFeatures.length)for(var p=_oExt.aoFeatures,d=0,g=p.length;d<g;d++)if(i==p[d].cFeature){(n=p[d].fnInit(e))&&(s=1);break}1==s&&("object"!=typeof e.aanFeatures[i]&&(e.aanFeatures[i]=[]),e.aanFeatures[i].push(n),f.appendChild(n))}t.parentNode.replaceChild(a,t)}function _fnFeatureHtmlFilter(s){var e=document.createElement("div");""!==s.sTableId&&void 0===s.aanFeatures.f&&e.setAttribute("id",s.sTableId+"_filter"),e.className=s.oClasses.sFilter;var t=""===s.oLanguage.sSearch?"":" ";e.innerHTML=s.oLanguage.sSearch+t+'<input type="text" />';t=$("input",e);return t.val(s.oPreviousSearch.sSearch.replace('"',"&quot;")),t.keyup(function(e){for(var t=s.aanFeatures.f,a=0,n=t.length;a<n;a++)t[a]!=this.parentNode&&$("input",t[a]).val(this.value);_fnFilterComplete(s,{sSearch:this.value,bEscapeRegex:s.oPreviousSearch.bEscapeRegex})}),t.keypress(function(e){if(13==e.keyCode)return!1}),e}function _fnFilterComplete(e,t,a){_fnFilter(e,t.sSearch,a,t.bEscapeRegex);for(var n=0;n<e.aoPreSearchCols.length;n++)_fnFilterColumn(e,e.aoPreSearchCols[n].sSearch,n,e.aoPreSearchCols[n].bEscapeRegex);0!==_oExt.afnFiltering.length&&_fnFilterCustom(e),e.bFiltered=!0,e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e),_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){for(var t=_oExt.afnFiltering,a=0,n=t.length;a<n;a++)for(var s=0,i=0,r=e.aiDisplay.length;i<r;i++){var o=e.aiDisplay[i-s];t[a](e,e.aoData[o]._aData,o)||(e.aiDisplay.splice(i-s,1),s++)}}function _fnFilterColumn(e,t,a,n){if(""!==t)for(var t=n?_fnEscapeRegex(t):t,s=new RegExp(t,"i"),i=e.aiDisplay.length-1;0<=i;i--){var r=_fnDataToSearch(e.aoData[e.aiDisplay[i]]._aData[a],e.aoColumns[a].sType);s.test(r)||(e.aiDisplay.splice(i,1),0)}}function _fnFilter(e,t,a,n){null==a&&(a=0),0!==_oExt.afnFiltering.length&&(a=1);var s="^(?=.*?"+(n?_fnEscapeRegex(t):t).split(" ").join(")(?=.*?")+").*$",i=new RegExp(s,"i");if(t.length<=0)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||e.oPreviousSearch.sSearch.length>t.length||1==a||0!==t.indexOf(e.oPreviousSearch.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),_fnBuildSearchArray(e,1),o=0;o<e.aiDisplayMaster.length;o++)i.test(e.asDataSearch[o])&&e.aiDisplay.push(e.aiDisplayMaster[o]);else for(var r=0,o=0;o<e.asDataSearch.length;o++)i.test(e.asDataSearch[o])||(e.aiDisplay.splice(o-r,1),r++);e.oPreviousSearch.sSearch=t,e.oPreviousSearch.bEscapeRegex=n}function _fnBuildSearchArray(e,t){e.asDataSearch.splice(0,e.asDataSearch.length);for(var a=void 0!==t&&1==t?e.aiDisplayMaster:e.aiDisplay,n=0,s=a.length;n<s;n++){e.asDataSearch[n]="";for(var i,r=0,o=e.aoColumns.length;r<o;r++)e.aoColumns[r].bSearchable&&(i=e.aoData[a[n]]._aData[r],e.asDataSearch[n]+=_fnDataToSearch(i,e.aoColumns[r].sType)+" ")}}function _fnDataToSearch(e,t){return"function"==typeof _oExt.ofnSearch[t]?_oExt.ofnSearch[t](e):"html"==t?e.replace(/\n/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/\n/g," "):e}function _fnSort(oSettings,bApplyClasses){var aaSort=[],oSort=_oExt.oSort,aoData=oSettings.aoData,iDataSort,iDataType,i,j,jLen;if(!oSettings.oFeatures.bServerSide&&(0!==oSettings.aaSorting.length||null!==oSettings.aaSortingFixed)){for(aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice(),i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0],sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(void 0!==_oExt.afnSortData[sDataType])for(var iCorrector=0,aData=_oExt.afnSortData[sDataType](oSettings,iColumn),j=0,jLen=aoData.length;j<jLen;j++)null!==aoData[j]&&(aoData[j]._aData[iColumn]=aData[iCorrector],iCorrector++)}if(window.runtime){var aAirSort=[],iLen=aaSort.length;for(i=0;i<iLen;i++)iDataSort=oSettings.aoColumns[aaSort[i][0]].iDataSort,aAirSort.push([iDataSort,oSettings.aoColumns[iDataSort].sType+"-"+aaSort[i][1]]);oSettings.aiDisplayMaster.sort(function(e,t){for(var a,n=0;n<iLen;n++)if(0!==(a=oSort[aAirSort[n][1]](aoData[e]._aData[aAirSort[n][0]],aoData[t]._aData[aAirSort[n][0]])))return a;return 0})}else{for(var fnLocalSorting,sDynamicSort="fnLocalSorting = function(a,b){var iTest;",i=0;i<aaSort.length-1;i++)iDataSort=oSettings.aoColumns[aaSort[i][0]].iDataSort,iDataType=oSettings.aoColumns[iDataSort].sType,sDynamicSort+="iTest = oSort['"+iDataType+"-"+aaSort[i][1]+"']( aoData[a]._aData["+iDataSort+"], aoData[b]._aData["+iDataSort+"] ); if ( iTest === 0 )";iDataSort=oSettings.aoColumns[aaSort[aaSort.length-1][0]].iDataSort,iDataType=oSettings.aoColumns[iDataSort].sType,sDynamicSort+="iTest = oSort['"+iDataType+"-"+aaSort[aaSort.length-1][1]+"']( aoData[a]._aData["+iDataSort+"], aoData[b]._aData["+iDataSort+"] );if (iTest===0) return oSort['numeric-"+aaSort[aaSort.length-1][1]+"'](a, b); return iTest;}",eval(sDynamicSort),oSettings.aiDisplayMaster.sort(fnLocalSorting)}}void 0!==bApplyClasses&&!bApplyClasses||_fnSortingClasses(oSettings),oSettings.bSorted=!0,oSettings.oFeatures.bFilter?_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1):(oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),oSettings._iDisplayStart=0,_fnCalculateEnd(oSettings),_fnDraw(oSettings))}function _fnSortAttachListener(i,e,r,t){$(e).click(function(s){var e;!1!==i.aoColumns[r].bSortable&&(e=function(){var e,t;if(s.shiftKey){for(var a=!1,n=0;n<i.aaSorting.length;n++)if(i.aaSorting[n][0]==r){a=!0,e=i.aaSorting[n][0],t=i.aaSorting[n][2]+1,void 0===i.aoColumns[e].asSorting[t]?i.aaSorting.splice(n,1):(i.aaSorting[n][1]=i.aoColumns[e].asSorting[t],i.aaSorting[n][2]=t);break}!1===a&&i.aaSorting.push([r,i.aoColumns[r].asSorting[0],0])}else 1==i.aaSorting.length&&i.aaSorting[0][0]==r?(e=i.aaSorting[0][0],t=i.aaSorting[0][2]+1,void 0===i.aoColumns[e].asSorting[t]&&(t=0),i.aaSorting[0][1]=i.aoColumns[e].asSorting[t],i.aaSorting[0][2]=t):(i.aaSorting.splice(0,i.aaSorting.length),i.aaSorting.push([r,i.aoColumns[r].asSorting[0],0]));_fnSort(i)},i.oFeatures.bProcessing?(_fnProcessingDisplay(i,!0),setTimeout(function(){e(),i.oFeatures.bServerSide||_fnProcessingDisplay(i,!1)},0)):e(),"function"==typeof t&&t(i))})}function _fnSortingClasses(e){var t,a,n,s,i,r,o,l=e.aoColumns.length,u=e.oClasses;for(p=0;p<l;p++)e.aoColumns[p].bSortable&&$(e.aoColumns[p].nTh).removeClass(u.sSortAsc+" "+u.sSortDesc+" "+e.aoColumns[p].sSortingClass);for(s=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),p=0;p<e.aoColumns.length;p++)if(e.aoColumns[p].bSortable){for(i=e.aoColumns[p].sSortingClass,n=-1,t=0;t<s.length;t++)if(s[t][0]==p){i="asc"==s[t][1]?u.sSortAsc:u.sSortDesc,n=t;break}$(e.aoColumns[p].nTh).addClass(i),e.bJUI&&((r=$("span",e.aoColumns[p].nTh)).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed),o=-1==n?e.aoColumns[p].sSortingClassJUI:"asc"==s[n][1]?u.sSortJUIAsc:u.sSortJUIDesc,r.addClass(o))}else $(e.aoColumns[p].nTh).addClass(e.aoColumns[p].sSortingClass);if(i=u.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){var f=_fnGetTdNodes(e);if(f.length>=l)for(p=0;p<l;p++)if(-1!=f[p].className.indexOf(i+"1"))for(t=0,a=f.length/l;t<a;t++)f[l*t+p].className=f[l*t+p].className.replace(" "+i+"1","");else if(-1!=f[p].className.indexOf(i+"2"))for(t=0,a=f.length/l;t<a;t++)f[l*t+p].className=f[l*t+p].className.replace(" "+i+"2","");else if(-1!=f[p].className.indexOf(i+"3"))for(t=0,a=f.length/l;t<a;t++)f[l*t+p].className=f[l*t+p].className.replace(" "+i+"3","");for(var c,h=1,p=0;p<s.length;p++){for(c=parseInt(s[p][0],10),t=0,a=f.length/l;t<a;t++)f[l*t+c].className+=" "+i+h;h<3&&h++}}}function _fnFeatureHtmlPaginate(e){var t=document.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,_oExt.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e),_fnDraw(e)}),void 0===e.aanFeatures.p&&e.aoDrawCallback.push({fn:function(e){_oExt.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e),_fnDraw(e)})},sName:"pagination"}),t}function _fnPageChange(e,t){var a,n=e._iDisplayStart;return"first"==t?e._iDisplayStart=0:"previous"==t?(e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,e._iDisplayStart<0&&(e._iDisplayStart=0)):"next"==t?0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0:"last"==t?0<=e._iDisplayLength?(a=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1,e._iDisplayStart=(a-1)*e._iDisplayLength):e._iDisplayStart=0:alert("DataTables warning: unknown paging action: "+t),n!=e._iDisplayStart}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");return t.className=e.oClasses.sInfo,void 0===e.aanFeatures.i&&(e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),""!==e.sTableId&&t.setAttribute("id",e.sTableId+"_info")),t}function _fnUpdateInfo(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t=e.aanFeatures.i[0];0===e.fnRecordsDisplay()&&e.fnRecordsDisplay()==e.fnRecordsTotal()?t.innerHTML=e.oLanguage.sInfoEmpty+e.oLanguage.sInfoPostFix:0===e.fnRecordsDisplay()?t.innerHTML=e.oLanguage.sInfoEmpty+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",e.fnRecordsTotal())+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()==e.fnRecordsTotal()?t.innerHTML=e.oLanguage.sInfo.replace("_START_",e._iDisplayStart+1).replace("_END_",e.fnDisplayEnd()).replace("_TOTAL_",e.fnRecordsDisplay())+e.oLanguage.sInfoPostFix:t.innerHTML=e.oLanguage.sInfo.replace("_START_",e._iDisplayStart+1).replace("_END_",e.fnDisplayEnd()).replace("_TOTAL_",e.fnRecordsDisplay())+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",e.fnRecordsTotal())+e.oLanguage.sInfoPostFix;var a=e.aanFeatures.i;if(1<a.length)for(var n=t.innerHTML,s=1,i=a.length;s<i;s++)a[s].innerHTML=n}}function _fnFeatureHtmlLength(i){var e='<select size="1" '+(""===i.sTableId?"":'name="'+i.sTableId+'_length"')+'><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select>',t=document.createElement("div");return""!==i.sTableId&&void 0===i.aanFeatures.l&&t.setAttribute("id",i.sTableId+"_length"),t.className=i.oClasses.sLength,t.innerHTML=i.oLanguage.sLengthMenu.replace("_MENU_",e),$('select option[value="'+i._iDisplayLength+'"]',t).attr("selected",!0),$("select",t).change(function(e){for(var t=$(this).val(),a=i.aanFeatures.l,n=0,s=a.length;n<s;n++)a[n]!=this.parentNode&&$("select",a[n]).val(t);i._iDisplayLength=parseInt(t,10),_fnCalculateEnd(i),i._iDisplayEnd==i.aiDisplay.length&&(i._iDisplayStart=i._iDisplayEnd-i._iDisplayLength,i._iDisplayStart<0&&(i._iDisplayStart=0)),-1==i._iDisplayLength&&(i._iDisplayStart=0),_fnDraw(i)}),t}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");return""!==e.sTableId&&void 0===e.aanFeatures.r&&t.setAttribute("id",e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing)for(var a=e.aanFeatures.r,n=0,s=a.length;n<s;n++)a[n].style.visibility=t?"visible":"hidden"}function _fnVisibleToColumnIndex(e,t){for(var a=-1,n=0;n<e.aoColumns.length;n++)if(!0===e.aoColumns[n].bVisible&&a++,a==t)return n;return null}function _fnColumnIndexToVisible(e,t){for(var a=-1,n=0;n<e.aoColumns.length;n++)if(!0===e.aoColumns[n].bVisible&&a++,n==t)return!0===e.aoColumns[n].bVisible?a:null;return null}function _fnNodeToDataIndex(e,t){for(var a=0,n=e.aoData.length;a<n;a++)if(null!==e.aoData[a]&&e.aoData[a].nTr==t)return a;return null}function _fnVisbleColumns(e){for(var t=0,a=0;a<e.aoColumns.length;a++)!0===e.aoColumns[a].bVisible&&t++;return t}function _fnCalculateEnd(e){!1===e.oFeatures.bPaginate||e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayEnd=e._iDisplayStart+e._iDisplayLength}function _fnConvertToWidth(e,t){if(!e||null===e||""===e)return 0;void 0===t&&(t=document.getElementsByTagName("body")[0]);var a=document.createElement("div");return a.style.width=e,t.appendChild(a),e=a.offsetWidth,t.removeChild(a),e}function _fnCalculateColumnWidths(e){var t,a=e.nTable.offsetWidth,n=0,s=0,i=e.aoColumns.length,r=$("thead:eq(0)>th",e.nTable);for(h=0;h<i;h++)e.aoColumns[h].bVisible&&(s++,null!==e.aoColumns[h].sWidth&&(n+=t=_fnConvertToWidth(e.aoColumns[h].sWidth,e.nTable.parentNode),e.aoColumns[h].sWidth=t+"px"));if(i==r.length&&0===n&&s==i)for(h=0;h<e.aoColumns.length;h++)e.aoColumns[h].sWidth=r[h].offsetWidth+"px";else{var o=e.nTable.cloneNode(!1);o.setAttribute("id","");for(var l,u='<table class="'+o.className+'">',f="<tr>",c="<tr>",h=0;h<i;h++)e.aoColumns[h].bVisible&&(f+="<th>"+e.aoColumns[h].sTitle+"</th>",null!==e.aoColumns[h].sWidth?(l="",c+="<td"+(l=null!==e.aoColumns[h].sWidth?' style="width:'+e.aoColumns[h].sWidth+';"':l)+' tag_index="'+h+'">'+fnGetMaxLenString(e,h)+"</td>"):c+='<td tag_index="'+h+'">'+fnGetMaxLenString(e,h)+"</td>");(o=$(u+(f+="</tr>")+(c+="</tr>")+"</table>")[0]).style.width=a+"px",o.style.visibility="hidden",o.style.position="absolute",e.nTable.parentNode.appendChild(o);var p=$("tr:eq(1)>td",o);for(h=0;h<p.length;h++){var d=p[h].getAttribute("tag_index"),g=$("td",o).eq(h).width(),_=e.aoColumns[h].sWidth?e.aoColumns[h].sWidth.slice(0,-2):0;e.aoColumns[d].sWidth=Math.max(g,_)+"px"}e.nTable.parentNode.removeChild(o)}}function fnGetMaxLenString(e,t){for(var a=0,n=-1,s=0;s<e.aoData.length;s++)e.aoData[s]._aData[t].length>a&&(a=e.aoData[s]._aData[t].length,n=s);return 0<=n?e.aoData[n]._aData[t]:""}function _fnArrayCmp(e,t){if(e.length!=t.length)return 1;for(var a=0;a<e.length;a++)if(e[a]!=t[a])return 2;return 0}function _fnDetectType(e){for(var t=_oExt.aTypes,a=t.length,n=0;n<a;n++){var s=t[n](e);if(null!==s)return s}return"string"}function _fnSettingsFromNode(e){for(var t=0;t<_aoSettings.length;t++)if(_aoSettings[t].nTable==e)return _aoSettings[t];return null}function _fnGetDataMaster(e){for(var t=[],a=e.aoData.length,n=0;n<a;n++)null===e.aoData[n]?t.push(null):t.push(e.aoData[n]._aData);return t}function _fnGetTrNodes(e){for(var t=[],a=e.aoData.length,n=0;n<a;n++)null===e.aoData[n]?t.push(null):t.push(e.aoData[n].nTr);return t}function _fnGetTdNodes(e){for(var t,a,n,s,i=_fnGetTrNodes(e),r=[],o=[],l=0,u=i.length;l<u;l++){for(r=[],n=0,s=i[l].childNodes.length;n<s;n++)"TD"==(t=i[l].childNodes[n]).nodeName&&r.push(t);for(n=a=0,s=e.aoColumns.length;n<s;n++)e.aoColumns[n].bVisible?o.push(r[n-a]):(o.push(e.aoData[l]._anHidden[n]),a++)}return o}function _fnEscapeRegex(e){var t=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","g");return e.replace(t,"\\$1")}function _fnReOrderIndex(e,t){for(var a=t.split(","),n=[],s=0,i=e.aoColumns.length;s<i;s++)for(var r=0;r<i;r++)if(e.aoColumns[s].sName==a[r]){n.push(r);break}return n}function _fnColumnOrdering(e){for(var t="",a=0,n=e.aoColumns.length;a<n;a++)t+=e.aoColumns[a].sName+",";return t.length==n?"":t.slice(0,-1)}function _fnClearTable(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,_fnCalculateEnd(e)}function _fnSaveState(e){if(e.oFeatures.bStateSave){var t,a="{";for(a+='"iStart": '+e._iDisplayStart+",",a+='"iEnd": '+e._iDisplayEnd+",",a+='"iLength": '+e._iDisplayLength+",",a+='"sFilter": "'+e.oPreviousSearch.sSearch.replace('"','\\"')+'",',a+='"sFilterEsc": '+e.oPreviousSearch.bEscapeRegex+",",a+='"aaSorting": [ ',t=0;t<e.aaSorting.length;t++)a+="["+e.aaSorting[t][0]+",'"+e.aaSorting[t][1]+"'],";for(a=a.substring(0,a.length-1),a+="],",a+='"aaSearchCols": [ ',t=0;t<e.aoPreSearchCols.length;t++)a+="['"+e.aoPreSearchCols[t].sSearch.replace("'","'")+"',"+e.aoPreSearchCols[t].bEscapeRegex+"],";for(a=a.substring(0,a.length-1),a+="],",a+='"abVisCols": [ ',t=0;t<e.aoColumns.length;t++)a+=e.aoColumns[t].bVisible+",";a=a.substring(0,a.length-1),a+="]",_fnCreateCookie("SpryMedia_DataTables_"+e.sInstance,a+="}",e.iCookieDuration)}}function _fnLoadState(oSettings,oInit){if(oSettings.oFeatures.bStateSave){var oData,sData=_fnReadCookie("SpryMedia_DataTables_"+oSettings.sInstance);if(null!==sData&&""!==sData){try{oData="object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}if(oSettings._iDisplayStart=oData.iStart,oSettings.iInitDisplayStart=oData.iStart,oSettings._iDisplayEnd=oData.iEnd,oSettings._iDisplayLength=oData.iLength,oSettings.oPreviousSearch.sSearch=oData.sFilter,oSettings.aaSorting=oData.aaSorting.slice(),oSettings.saved_aaSorting=oData.aaSorting.slice(),void 0!==oData.sFilterEsc&&(oSettings.oPreviousSearch.bEscapeRegex=oData.sFilterEsc),void 0!==oData.aaSearchCols)for(var i=0;i<oData.aaSearchCols.length;i++)oSettings.aoPreSearchCols[i]={sSearch:oData.aaSearchCols[i][0],bEscapeRegex:oData.aaSearchCols[i][1]};if(void 0!==oData.abVisCols)for(oInit.saved_aoColumns=[],i=0;i<oData.abVisCols.length;i++)oInit.saved_aoColumns[i]={},oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}function _fnCreateCookie(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*a),e+="_"+window.location.pathname.replace(/[\/:]/g,"").toLowerCase(),document.cookie=e+"="+encodeURIComponent(t)+"; expires="+n.toGMTString()+"; path=/"}function _fnReadCookie(e){for(var t=e+"_"+window.location.pathname.replace(/[\/:]/g,"").toLowerCase()+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}return null}function _fnGetUniqueThs(e){var t=e.getElementsByTagName("tr");if(1==t.length)return t[0].getElementsByTagName("th");function a(e,t,a){for(;void 0!==e[t][a];)a++;return a}function n(e){void 0===r[e]&&(r[e]=[])}for(var s,i,r=[],o=[],l=0,u=t.length;l<u;l++){n(l);for(var f=0,c=[],h=0,p=t[l].childNodes.length;h<p;h++)"TD"!=t[l].childNodes[h].nodeName&&"TH"!=t[l].childNodes[h].nodeName||c.push(t[l].childNodes[h]);for(h=0,p=c.length;h<p;h++){var d=+c[h].getAttribute("colspan"),g=+c[h].getAttribute("rowspan");if(d&&0!=d&&1!=d){for(i=a(r,l,f),s=0;s<d;s++)r[l][i+s]=3;f+=d}else{if(i=a(r,l,f),r[l][i]="TD"==c[h].nodeName?4:c[h],g||0==g||1==g)for(s=1;s<g;s++)n(l+s),r[l+s][i]=2;f++}}}for(u=r[l=0].length;l<u;l++)for(h=0,p=r.length;h<p;h++)"object"==typeof r[h][l]&&o.push(r[h][l]);return o}function _fnMap(e,t,a,n){void 0===n&&(n=a),void 0!==t[a]&&(e[n]=t[a])}this.oApi._fnInitalise=_fnInitalise,this.oApi._fnLanguageProcess=_fnLanguageProcess,this.oApi._fnAddColumn=_fnAddColumn,this.oApi._fnAddData=_fnAddData,this.oApi._fnGatherData=_fnGatherData,this.oApi._fnDrawHead=_fnDrawHead,this.oApi._fnDraw=_fnDraw,this.oApi._fnAjaxUpdate=_fnAjaxUpdate,this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml,this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter,this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo,this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate,this.oApi._fnPageChange=_fnPageChange,this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength,this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing,this.oApi._fnProcessingDisplay=_fnProcessingDisplay,this.oApi._fnFilterComplete=_fnFilterComplete,this.oApi._fnFilterColumn=_fnFilterColumn,this.oApi._fnFilter=_fnFilter,this.oApi._fnSortingClasses=_fnSortingClasses,this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex,this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible,this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex,this.oApi._fnVisbleColumns=_fnVisbleColumns,this.oApi._fnBuildSearchArray=_fnBuildSearchArray,this.oApi._fnDataToSearch=_fnDataToSearch,this.oApi._fnCalculateEnd=_fnCalculateEnd,this.oApi._fnConvertToWidth=_fnConvertToWidth,this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths,this.oApi._fnArrayCmp=_fnArrayCmp,this.oApi._fnDetectType=_fnDetectType,this.oApi._fnGetDataMaster=_fnGetDataMaster,this.oApi._fnGetTrNodes=_fnGetTrNodes,this.oApi._fnGetTdNodes=_fnGetTdNodes,this.oApi._fnEscapeRegex=_fnEscapeRegex,this.oApi._fnReOrderIndex=_fnReOrderIndex,this.oApi._fnColumnOrdering=_fnColumnOrdering,this.oApi._fnClearTable=_fnClearTable,this.oApi._fnSaveState=_fnSaveState,this.oApi._fnLoadState=_fnLoadState,this.oApi._fnCreateCookie=_fnCreateCookie,this.oApi._fnReadCookie=_fnReadCookie,this.oApi._fnGetUniqueThs=_fnGetUniqueThs,this.oApi._fnReDraw=_fnReDraw;var _that=this;return this.each(function(){for(var e,t,a=0,a=0,n=_aoSettings.length;a<n;a++)if(_aoSettings[a].nTable==this)return alert("DataTables warning: Unable to re-initialise DataTable. Please use the API to make any configuration changes required."),_aoSettings[a];var s=new classSettings;_aoSettings.push(s);var i=!1,r=!1,o=this.getAttribute("id");null!==o?(s.sTableId=o,s.sInstance=o):s.sInstance=_oExt._oExternConfig.iNextUnique++,s.nTable=this,s.oApi=_that.oApi,null!=oInit?(_fnMap(s.oFeatures,oInit,"bPaginate"),_fnMap(s.oFeatures,oInit,"bLengthChange"),_fnMap(s.oFeatures,oInit,"bFilter"),_fnMap(s.oFeatures,oInit,"bSort"),_fnMap(s.oFeatures,oInit,"bInfo"),_fnMap(s.oFeatures,oInit,"bProcessing"),_fnMap(s.oFeatures,oInit,"bAutoWidth"),_fnMap(s.oFeatures,oInit,"bSortClasses"),_fnMap(s.oFeatures,oInit,"bServerSide"),_fnMap(s,oInit,"asStripClasses"),_fnMap(s,oInit,"fnRowCallback"),_fnMap(s,oInit,"fnHeaderCallback"),_fnMap(s,oInit,"fnFooterCallback"),_fnMap(s,oInit,"fnInitComplete"),_fnMap(s,oInit,"fnServerData"),_fnMap(s,oInit,"aaSorting"),_fnMap(s,oInit,"aaSortingFixed"),_fnMap(s,oInit,"sPaginationType"),_fnMap(s,oInit,"sAjaxSource"),_fnMap(s,oInit,"iCookieDuration"),_fnMap(s,oInit,"sDom"),_fnMap(s,oInit,"oSearch","oPreviousSearch"),_fnMap(s,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(s,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(s,oInit,"bJQueryUI","bJUI"),"function"==typeof oInit.fnDrawCallback&&s.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"}),s.oFeatures.bServerSide&&s.oFeatures.bSort&&s.oFeatures.bSortClasses&&s.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"}),void 0!==oInit.bJQueryUI&&oInit.bJQueryUI&&(s.oClasses=_oExt.oJUIClasses,void 0===oInit.sDom&&(s.sDom='<"H"lfr>t<"F"ip>')),void 0!==oInit.iDisplayStart&&void 0===s.iInitDisplayStart&&(s.iInitDisplayStart=oInit.iDisplayStart,s._iDisplayStart=oInit.iDisplayStart),void 0!==oInit.bStateSave&&(s.oFeatures.bStateSave=oInit.bStateSave,_fnLoadState(s,oInit),s.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})),void 0!==oInit.aaData&&(r=!0),void 0!==oInit&&void 0!==oInit.aoData&&(oInit.aoColumns=oInit.aoData),void 0!==oInit.oLanguage&&(void 0!==oInit.oLanguage.sUrl&&""!==oInit.oLanguage.sUrl?(s.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(s.oLanguage.sUrl,null,function(e){_fnLanguageProcess(s,e,!0)}),i=!0):_fnLanguageProcess(s,oInit.oLanguage,!1))):oInit={},void 0===oInit.asStripClasses&&(s.asStripClasses.push(s.oClasses.sStripOdd),s.asStripClasses.push(s.oClasses.sStripEven));var o=this.getElementsByTagName("thead"),l=0===o.length?null:_fnGetUniqueThs(o[0]),u=void 0!==oInit.aoColumns;for(a=0,n=(u?oInit.aoColumns:l).length;a<n;a++){var f=u?oInit.aoColumns[a]:null,c=l?l[a]:null;void 0!==oInit.saved_aoColumns&&oInit.saved_aoColumns.length==n&&((f=null===f?{}:f).bVisible=oInit.saved_aoColumns[a].bVisible),_fnAddColumn(s,f,c)}for(a=0,n=s.aaSorting.length;a<n;a++){var h=s.aoColumns[s.aaSorting[a][0]];for(void 0===s.aaSorting[a][2]&&(s.aaSorting[a][2]=0),void 0===oInit.aaSorting&&void 0===s.saved_aaSorting&&(s.aaSorting[a][1]=h.asSorting[0]),e=0,t=h.asSorting.length;e<t;e++)if(s.aaSorting[a][1]==h.asSorting[e]){s.aaSorting[a][2]=e;break}}if(0===this.getElementsByTagName("thead").length&&this.appendChild(document.createElement("thead")),0===this.getElementsByTagName("tbody").length&&this.appendChild(document.createElement("tbody")),r)for(a=0;a<oInit.aaData.length;a++)_fnAddData(s,oInit.aaData[a]);else _fnGatherData(s);s.aiDisplay=s.aiDisplayMaster.slice(),s.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(s),!(s.bInitialised=!0)===i&&_fnInitalise(s)})}}(jQuery);var bibtexify=function(h){function s(e){return e?e=e.replace(/\\"\{a\}/g,"&auml;").replace(/\{\\aa\}/g,"&aring;").replace(/\\aa\{\}/g,"&aring;").replace(/\\"a/g,"&auml;").replace(/\\"\{o\}/g,"&ouml;").replace(/\\'e/g,"&eacute;").replace(/\\'\{e\}/g,"&eacute;").replace(/\\'a/g,"&aacute;").replace(/\\'A/g,"&Aacute;").replace(/\\"o/g,"&ouml;").replace(/\\"u/g,"&uuml;").replace(/\\ss\{\}/g,"&szlig;").replace(/\{/g,"").replace(/\}/g,"").replace(/\\&/g,"&").replace(/--/g,"&ndash;"):""}function i(e){return e?e=e.replace(/\\"\{a\}/g,"%C3%A4").replace(/\{\\aa\}/g,"%C3%A5").replace(/\\aa\{\}/g,"%C3%A5").replace(/\\"a/g,"%C3%A4").replace(/\\"\{o\}/g,"%C3%B6").replace(/\\'e/g,"%C3%A9").replace(/\\'\{e\}/g,"%C3%A9").replace(/\\'a/g,"%C3%A1").replace(/\\'A/g,"%C3%81").replace(/\\"o/g,"%C3%B6").replace(/\\"u/g,"%C3%BC").replace(/\\ss\{\}/g,"%C3%9F").replace(/\{/g,"").replace(/\}/g,"").replace(/\\&/g,"%26").replace(/--/g,"%E2%80%93"):""}var p={entry2html:function(e,t){var a=e.entryType.toLowerCase();-1===array_keys(p).indexOf(a)&&(e.entryType=a="misc");a=s(p[a](e));return a+=p.links(e),a+=p.bibtex(e),t.options.tweet&&e.url&&(a+=p.tweet(e,t)),a.replace(/undefined[,.]?/g,'<span class="undefined">missing</span>')},authors2html:function(e){var t,a="";if(!e)return a;for(var n=0;n<e.length;n++)0<n&&(a+=", "),a+=(t=e[n]).first+(t.von?" "+t.von+" ":" ")+t.last;return s(a)},links:function(e){var t="";return e.url&&e.url.match(/.*\.pdf/)?t+=' (<a title="PDF-version of this article"  target="_blank" href="'+e.url+'">pdf</a>)':e.url&&(t+=' (<a title="This article online" target="_blank" href="'+e.url+'">link</a>)'),t},bibtex:function(e){var n="";return n+=' (<a title="This article as BibTeX" href="#" class="biblink">bib</a>)<div class="bibinfo hidden">',n+='<a href="#" class="bibclose" title="Close">x</a><pre>',n+="@"+e.entryType+"{"+e.cite+",\n",h.each(e,function(e,t){if("author"==e){n+="  author = { ";for(var a=0;a<t.length;a++)0<a&&(n+=" and "),n+=t[a].last;n+=" },\n"}else"entryType"!=e&&"cite"!=e&&(n+="  "+e+" = { "+t+" },\n")}),n+="}</pre></div>"},tweet:function(e,t){var a=' (<a title="Tweet this article" href="http://twitter.com/share?url=';a+=e.url,a+="&via="+t.options.tweet,a+="&text=";function n(e){return(e=e.split(" "))[e.length-1]}t=e.author;return t&&(1==t.length?a+=i(n(t[0].last)):2==t.length?a+=i(n(t[0].last)+"%26"+n(t[1].last)):a+=i(n(t[0].last)+" et al")),a+=": "+i(e.title),a+='" target="_blank">tweet</a>)'},inproceedings:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". In <em>"+e.booktitle+", pp. "+e.pages+(e.address?", "+e.address:"")+".</em>"},incollection:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". In "+(e.editor?this.authors2html(e.editor)+", editor, ":"")+"<em>"+e.booktitle+", pp. "+e.pages+(e.address?", "+e.address:"")+".</em>"},article:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". <em>"+e.journal+", "+e.volume+(e.number?"("+e.number+")":"")+", pp. "+e.pages+". "+(e.address?e.address+".":"")+"</em>"},misc:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". "+(e.howpublished?e.howpublished+". ":"")+(e.note?e.note+".":"")},mastersthesis:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". "+e.type+". "+e.organization+", "+e.school+"."},techreport:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.title+". "+e.institution+". "+e.number+". "+e.type+"."},book:function(e){return this.authors2html(e.author||e.editor)+" ("+e.year+").  <em>"+e.title+"</em>, "+e.publisher+", "+e.year+(e.issn?", ISBN: "+e.issn+".":".")},inbook:function(e){return this.authors2html(e.author)+" ("+e.year+"). "+e.chapter+" in <em>"+e.title+"</em>, "+(e.editor?" Edited by "+this.authors2html(e.editor)+", ":"")+e.publisher+", pp. "+e.pages+(e.series?", <em>"+e.series+"</em>":"")+(e.volume?", Vol. "+e.volume:"")+(e.issn?", ISBN: "+e.issn:"")+"."},proceedings:function(e){return this.authors2html(e.editor)+", editor(s) ("+e.year+").  <em>"+e.title+".</em>"+(e.volume?", Vol. "+e.volume:"")+(e.address?", "+e.address:"")+". "+(e.organization?+e.organization:"")+(e.organization&&e.publisher?", ":"")+(e.publisher?e.publisher+". ":"")+(e.note||"")},importance:{TITLE:9999,misc:0,manual:10,techreport:20,mastersthesis:30,inproceedings:40,incollection:50,proceedings:105,conference:70,article:80,phdthesis:90,inbook:100,book:110,unpublished:120},labels:{article:"Journal",book:"Book",conference:"Conference",inbook:"Book chapter",incollection:"In Collection",inproceedings:"Conference",manual:"Manual",mastersthesis:"Thesis",misc:"Misc",phdthesis:"PhD Thesis",proceedings:"Conference proceeding",techreport:"Technical report",unpublished:"Unpublished"}};p.phdthesis=p.mastersthesis,p.conference=p.inproceedings;function r(e,t,a,n){this.options=n,this.bibElemId=t,this.$pubTable=a,this.stats={},this.initialize(e)}var u=function(e){h(this).next(".bibinfo").removeClass("hidden").addClass("open"),h("#shutter").show(),e.preventDefault()},f=function(e){h("#shutter").hide(),h(".bibinfo.open").removeClass("open").addClass("hidden"),e.preventDefault()},e=r.prototype;return e.initialize=function(e){var t=new BibTex;t.content=e,t.parse();var a=[],n=t.data.length,s={};jQuery.extend(!0,p,this.options.bib2html);for(var i=0;i<n;i++){var r=t.data[i];r.year||(r.year=this.options.defaultYear||"To Appear");try{var o=p.entry2html(r,this);a.push([r.year,p.labels[r.entryType],o]),s[p.labels[r.entryType]]=r.entryType,this.updateStats(r)}catch(e){console.error("Failed to process entry: ",r)}}jQuery.fn.dataTableExt.oSort["type-sort-asc"]=function(e,t){e=p.importance[s[e]],t=p.importance[s[t]];return e<t?-1:t<e?1:0},jQuery.fn.dataTableExt.oSort["type-sort-desc"]=function(e,t){e=p.importance[s[e]],t=p.importance[s[t]];return e<t?1:t<e?-1:0};var l=this.$pubTable.dataTable(h.extend({aaData:a,aaSorting:this.options.sorting,aoColumns:[{sTitle:"Year"},{sTitle:"Type",sType:"type-sort",asSorting:["desc","asc"]},{sTitle:"Publication",bSortable:!1}],bPaginate:!1},this.options.datatable));this.options.visualization&&this.addBarChart(),h("th",this.$pubTable).unbind("click").click(function(e){var t=h(this),a=t.parent().find("th"),n=a.index(t);t.hasClass("sorting_disabled")||(t.toggleClass("sorting_asc").toggleClass("sorting_desc"),0===n?l.fnSort([[0,a.eq(0).hasClass("sorting_asc")?"asc":"desc"],[1,a.eq(1).hasClass("sorting_asc")?"asc":"desc"]]):l.fnSort([[1,a.eq(1).hasClass("sorting_asc")?"asc":"desc"],[0,a.eq(0).hasClass("sorting_asc")?"asc":"desc"]]))}),h(".biblink",this.$pubTable).on("click",u),h(".bibclose",this.$pubTable).on("click",f)},e.updateStats=function(e){this.stats[e.year]?(this.stats[e.year].count+=1,this.stats[e.year].types[e.entryType]?this.stats[e.year].types[e.entryType]+=1:this.stats[e.year].types[e.entryType]=1):(this.stats[e.year]={count:1,types:{}},this.stats[e.year].types[e.entryType]=1)},e.addBarChart=function(){var n=[],s=0,i=0;h.each(this.stats,function(e,t){var a=[];h.each(t.types,function(e){a.push(e)}),a.sort(function(e,t){return p.importance[t]-p.importance[e]}),n.push({year:e,count:t.count,item:t,types:t.types,typeArr:a}),s=Math.max(s,t.count),i=Math.max(i,a.length)});var o=15<s;n.sort(function(e,t){var a=e.year-t.year;return isNaN(a)?e.year<t.year?-1:e.year>t.year?1:0:a});var e="#"+this.bibElemId+" .bibchart",t="#"+this.bibElemId+" .legend",l=[],a="";n.forEach(function(e){a+=function(e){for(var t=e.typeArr,a='<div class="year">',n="",s=0;s<t.length;s++){var i=t[s];if(-1===l.indexOf(i)&&l.push(i),o)n+='<div class="pub '+i+'"></div>';else for(var r=0;r<e.types[i];r++)n+='<div class="pub '+i+'"></div>'}return(a+=n)+'<div class="yearlabel">'+e.year+"</div></div>"}(e)});for(var r="",u=0,f=l.length;u<f;u++){var c=l[u];r+='<div><span class="pub '+c+'"></span>'+p.labels[c]+"</div>"}h(e).html(a),0===h(t).length&&h(e).after('<div class="legend"></div>'),h(t).html(r)},function(e,t,a){var n,s=h.extend({},{visualization:!0,sorting:[[0,"desc"],[1,"desc"]]},a),i=h("#"+t+" table").addClass("bibtable");0===h("#shutter").length&&(i.before('<div id="shutter" class="hidden"></div>'),h("#shutter").click(f)),0<h("#"+t+" .bibchart").length?s.visualization=!0:s.visualization&&i.before('<div class="bibchart-container"><div class="bibchart"></div></div><div class="legend"></div>'),(n=-1===e.indexOf("/")?h(e):n)&&n.length?(new r(n.html(),t,i,s),n.hide()):h.get(e,function(e){new r(e,i,s)},"text")}}(jQuery);